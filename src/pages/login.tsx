import { ConnectButton } from "@rainbow-me/rainbowkit";
import type { NextPage } from "next";
import { useSession } from "next-auth/react";
import Head from "next/head";
import Image from "next/image";
import { useRouter } from "next/router";

const Login: NextPage = () => {
  const router = useRouter();
  const { status } = useSession();

  // TODO: improve signin redirection logic
  if (status === "authenticated") {
    router.replace("/dashboard");
  }

  return (
    <div className="h-screen mx-auto md:container">
      <Head>
        <title>Bitso Token Manager</title>
        <meta content="Generated by Khuddite" name="description" />
        <link href="/favicon.ico" rel="icon" />
      </Head>

      <main className="flex flex-col items-center justify-center h-full gap-8">
        <Image
          className="self-center mb-4"
          src="/bitso.png"
          alt="Bitso logo"
          width={240}
          height={240}
          priority
        />
        <h1 className="text-3xl ext-center">Welcome to Bitso Token Manager!</h1>

        <p className="text-xl text-center">
          Get started by connecting your wallet
        </p>

        <ConnectButton />
      </main>
    </div>
  );
};

export default Login;
